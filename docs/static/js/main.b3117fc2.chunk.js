(this["webpackJsonpoh-hell"]=this["webpackJsonpoh-hell"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),s=a.n(l),o=(a(16),a(1)),u=a(2),c=a(3),d=a(4),i=a(5),m=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleAddPlayer=function(e){e.preventDefault(),n.state.newPlayerName&&""!==n.state.newPlayerName&&(n.props.addPlayerFn(n.state.newPlayerName),n.setState({newPlayerName:""}))},n.handleRemovePlayer=function(e){n.props.removePlayerFn(e)},n.handleNameChange=function(e){n.setState({newPlayerName:e.target.value})},n.renderPlayerList=function(e){return e&&e.length?e.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("span",{className:"player-name"},e),r.a.createElement("span",{className:"player-delete",onClick:function(){return n.handleRemovePlayer(e)}},"remove"))})):r.a.createElement("li",null,"No players yet. Add one to get started.")},n.state={newPlayerName:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"player-config"},r.a.createElement("ul",{className:"current-players"},r.a.createElement("h3",null,"Players:"),this.renderPlayerList(this.props.players)),r.a.createElement("div",{className:"add-player-form"},r.a.createElement("form",{onSubmit:this.handleAddPlayer},r.a.createElement("input",{type:"text",placeholder:"Name...",value:this.state.newPlayerName,onChange:this.handleNameChange}),r.a.createElement("button",{onClick:this.handleAddPlayer},"Add Player"))))}}]),a}(r.a.Component),p=a(8),h=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).areBetsValid=function(){var e,t=0,a=Object(p.a)(n.state.playerRounds);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.bet&&(t+=r.bet)}}catch(l){a.e(l)}finally{a.f()}return t!==n.props.cardCount},n.renderCol=function(e){return r.a.createElement("table",{className:"game-table-col"+(n.props.round.over?" over":" in-progress")},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Bet"),r.a.createElement("td",null,"Won"),r.a.createElement("td",null,"Points"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(t){return n.handleBetChange(e.player,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(t){return n.handleWinChange(e.player,t)}})),r.a.createElement("td",null,e.points))))},n.renderCols=function(){return n.props.round.players.map((function(e){return r.a.createElement("td",{key:e.player},n.renderCol(e))}))},n.renderError=function(){if(!n.areBetsValid())return r.a.createElement("span",{className:"error"},"Bets cannot equal # of cards in a round. Last person to bet needs to change.")},n.state={playerRounds:e.round.players},n}return Object(c.a)(a,[{key:"getPlayerIndex",value:function(e){var t=-1;return this.state.playerRounds.forEach((function(a,n){a.player===e&&(t=n)})),t}},{key:"handleBetChange",value:function(e,t){var a=this.getPlayerIndex(e),n=this.state.playerRounds[a],r=parseInt(t.target.value,10);n.bet=r;var l=Object(o.a)(this.state.playerRounds);l[a]=n,this.setState({playerRounds:l})}},{key:"handleWinChange",value:function(e,t){var a=this.getPlayerIndex(e),n=this.state.playerRounds[a],r=parseInt(t.target.value,10),l=r;r===n.bet&&(l+=this.props.betBonus),n.points=l;var s=Object(o.a)(this.state.playerRounds);s[a]=n,this.setState({playerRounds:s})}},{key:"handleRoundEnd",value:function(){this.props.endRoundFn()}},{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.cardCount),this.renderCols(),r.a.createElement("td",null,r.a.createElement("button",{className:"end-round-button"+(this.props.round.over?" over":" in-progress"),onClick:function(){return e.handleRoundEnd()}},"End Round"),this.renderError()))}}]),a}(r.a.Component),y=function(e){var t=[],a=function(e){var t,a={},n=Object(p.a)(e);try{for(n.s();!(t=n.n()).done;){t.value.players.forEach((function(e){a[e.player]?a[e.player]=a[e.player]+e.points:a[e.player]=e.points}))}}catch(r){n.e(r)}finally{n.f()}return a}(e.rounds);for(var n in a)t.push(r.a.createElement("td",{key:n},n,": ",a[n]));return r.a.createElement("table",{className:"summary"},r.a.createElement("tbody",null,t))},f=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addPlayer=function(e){var t=Object(o.a)(n.state.players);t.push(e),n.setState({players:t})},n.removePlayer=function(e){var t=n.state.players.indexOf(e),a=Object(o.a)(n.state.players);t>-1&&a.splice(t,1),n.setState({players:a})},n.endRound=function(){var e=Object(o.a)(n.state.rounds);e[n.state.rounds.length-1].over=!0,e.push(n.generateRound()),n.setState({rounds:e})},n.handleBetBonusChange=function(e){n.setState({betBonus:parseInt(e.target.value,10)})},n.handleStartGame=function(){var e=n.generateRound();n.setState({rounds:[e]})},n.renderHeaders=function(){return n.state.players.map((function(e){return r.a.createElement("td",{key:e},e)}))},n.state={betBonus:10,players:[],rounds:[]},n}return Object(c.a)(a,[{key:"gameStarted",value:function(){return 0!==this.state.rounds.length}},{key:"generateRound",value:function(){return{over:!1,players:this.state.players.map((function(e){return{player:e,points:0}}))}}},{key:"renderConfigOrGame",value:function(){return this.gameStarted()?r.a.createElement("div",{className:"game-in-progress"},r.a.createElement("table",{className:"game-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"# Cards"),this.renderHeaders())),r.a.createElement("tbody",null,this.renderRounds())),r.a.createElement(y,{rounds:this.state.rounds})):r.a.createElement("div",{className:"game-config"},r.a.createElement("h1",null,"Oh Hell!"),r.a.createElement(m,{players:this.state.players,addPlayerFn:this.addPlayer,removePlayerFn:this.removePlayer}),r.a.createElement("h3",null,"Options:"),r.a.createElement("label",null,"Bet Bonus:"),r.a.createElement("input",{type:"text",value:this.state.betBonus,onChange:this.handleBetBonusChange}),r.a.createElement("button",{onClick:this.handleStartGame,className:"start-game-button"},"Start Game"))}},{key:"renderRounds",value:function(){var e=this;return this.state.rounds.map((function(t,a){return r.a.createElement(h,{key:a,round:t,cardCount:a+3,betBonus:e.state.betBonus,endRoundFn:e.endRound})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.renderConfigOrGame())}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.b3117fc2.chunk.js.map